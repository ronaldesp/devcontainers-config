#!/usr/bin/env bash
set -euo pipefail

# Prepend shims pointing to system-installed 3.13 binaries
VDIR="/usr/local/python313-shims"
if [ ! -d "$VDIR" ]; then
  echo "No se encontraron shims para Python 3.13 en $VDIR"
  echo "Verifica que la imagen tenga python3.13 instalado."
  exit 1
fi

NEW_PATH="$VDIR:$PATH"

if [ $# -eq 0 ]; then
  echo "Activando shell con Python $VER al frente del PATH. Ejecuta 'exit' para volver."
  exec env PATH="$NEW_PATH" bash -l
else
  exec env PATH="$NEW_PATH" "$@"
fi
